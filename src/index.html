<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-title">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="description">

    <title></title>

</head>
<body>
    <script type="text/javascript">

//let products = new Proxy([
//  { name: 'Firefox', type: 'browser' },
//  { name: 'SeaMonkey', type: 'browser' },
//  { name: 'Thunderbird', type: 'mailer' }
//],
//{
//  get: function(obj, prop) {
//
//    console.log(obj);
//    console.log(prop);
//
//    // The default behavior to return the value; prop is usually an integer
////	if (prop in obj) {
////
////		console.log(prop);
////      return obj[prop];
////    }
//
//    // Get the number of products; an alias of products.length
////    if (prop === 'number') {
////      return obj.length;
////    }
////
////    let result, types = {};
////
////    for (let product of obj) {
////      if (product.name === prop) {
////        result = product;
////      }
////      if (types[product.type]) {
////        types[product.type].push(product);
////      } else {
////        types[product.type] = [product];
////      }
////    }
////
////    // Get a product by name
////    if (result) {
////      return result;
////    }
////
////    // Get products by type
////    if (prop in types) {
////      return types[prop];
////    }
////
////    // Get product types
////    if (prop === 'types') {
////      return Object.keys(types);
////    }
////
////    return undefined;
//  }
//});

//console.log(products); // { name: 'Firefox', type: 'browser' }
//const monster1 = {
//  secret: 'easily scared',
//  eyeCount: 4
//};
//
//const handler1 = {
//
//  get: function(target, prop, receiver) {
//
//	console.log(this);
//    console.log(target);
//    console.log(prop);
//    console.log(receiver);
//  }
//};
//
//const proxy1 = new Proxy(monster1, handler1);
//
//console.log(proxy1.eyeCount);

//	function Monster() {
//  this.eyeCount = 4;
//}
//
//const handler1 = {
//  get(target, prop, receiver){
//
//	console.log(this);
//    console.log(target);
//    console.log(prop);
//    console.log(receiver);
//  },
//  set(obj, prop, value) {
//
////    console.log(this);
////    console.log(obj);
////    console.log(prop);
////    console.log(value);
//
////    if ((prop === 'eyeCount') && ((value % 2) !== 0)) {
////      console.log('Monsters must have an even number of eyes');
////    } else {
////      return Reflect.set(...arguments);
////    }
//  }
//};
//
//const monster1 = new Monster();
//const proxy1 = new Proxy(monster1, handler1);
//
////console.log(proxy1);
//proxy1.eyeCount += 1;

//function monster1(disposition) {
//  this.disposition = disposition;
//}
//
//const handler1 = {
//  construct(target, args) {
//    console.log(this);
//    console.log(target);
//    console.log(args);
//    console.log('monster1 constructor called');
//    // expected output: "monster1 constructor called"
//
//    return new target(...args);
//  }
//};
//
//const proxy1 = new Proxy(monster1, handler1);
//
//console.log(new proxy1('fierce', 'test').disposition);

//function sum(a, b) {
//  return a + b;
//}
//
//const handler = {
//  apply: function(target, thisArg, argumentsList) {
//
//	console.log(this);
//    console.log(target);
//    console.log(thisArg);
//    console.log(argumentsList);
//
//    return target(argumentsList[0], argumentsList[1]) * 10;
//  }
//};
//
//var proxy1 = new Proxy(sum, handler);
//
////console.log(sum(1, 2));
//// expected output: 3
//console.log(proxy1(1, 2));
// expected output: 30
// expected output: "fierce"

//let products = new Proxy({
//  browsers: ['Internet Explorer', 'Netscape']
//},
//{
//  get: function(obj, prop) {
//    // An extra property
//    if (prop === 'latestBrowser') {
//      return obj.browsers[obj.browsers.length - 1];
//    }
//
//    // The default behavior to return the value
//    return obj[prop];
//  },
//  set: function(obj, prop, value) {
//
//
//    console.log('prop', prop);
//
//    // An extra property
//    if (prop === 'latestBrowser') {
//      obj.browsers.push(value);
//      return;
//    }
//
//    // Convert the value if it is not an array
//    if (typeof value === 'string') {
//      value = [value];
//    }
//
//    // The default behavior to store the value
//    obj[prop] = value;
//  }
//});
//
////console.log(products);
//
//console.log(products.browsers); // ['Internet Explorer', 'Netscape']
//products.browsers = 'Firefox'; // pass a string (by mistake)
//console.log(products.browsers); // ['Firefox'] <- no problem, the value is an array

//function monster1(disposition) {
//
//	console.log(disposition);
//  this.disposition = disposition;
//}
//
//monster1.x = '231321';
//
//monster1.prototype.y = 'yyyy';
//
//const handler1 = {
//};
//
//const proxy1 = new Proxy(monster1, handler1);
//
//console.dir(proxy1);
//
//console.log(new proxy1('fierce'));
// expected output: "fierce"
// expected output: true

//products.latestBrowser = 'Chrome';
//console.log(products.browsers); // ['Firefox', 'Chrome']
//console.log(products.latestBrowser); // 'Chrome'

//proxy1.eyeCount = 1;
// expected output: "Monsters must have an even number of eyes"

// expected output: 4

// expected output: 4

//console.log(proxy1.secret);
// expected output: "easi ... shhhh!"
//console.log(products['Firefox']); // { name: 'Firefox', type: 'browser' }
//console.log(products['Chrome']); // undefined
//console.log(products.browser); // [{ name: 'Firefox', type: 'browser' }, { name: 'SeaMonkey', type: 'browser' }]
//console.log(products.types); // ['browser', 'mailer']
//console.log(products.number); // 3
//        const o = {x: 1};
//	    console.log(new Proxy(o, {
//	        get: function(){
//		        console.log('get', arguments);
//		    },
//	        set: function(){
//		        console.log('set', arguments);
//		    }
//	    }));
//
//        const o1 = {x: 1};
//        const fn1 = function(){};
//	    const proxy2 = new Proxy(fn1, {});
//	    proxy2();
//
//        const o2 = {x: 1};
//        const fn2 = function(){};
//	    const proxy3 = new Proxy([], {});
//	    proxy3();

var handler = {
//    get: function(target, name){
//
////        console.dir(target);
////        console.dir(name);
////        console.dir(name in target);
//
////        console.log(name in target);
//        return name in target ? target[name] : 37;
//
////		return 37;
//    }
};

var p = new Proxy({a: 1, b: undefined}, handler);

console.log(p);

//console.dir(p);
//p.a = 1;
//p.c = 3;
p.b = 444;
p.c = 555;

console.log('a:', p.a, ',b:', p.b); // 1, undefined
console.log(p.c); // false, 37
    </script>
</body>
</html>
